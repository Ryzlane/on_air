<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Musical experience</title>
    <link rel="stylesheet" href="styles/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aframe/0.7.1/aframe.min.js"></script>
    <script src="scripts/choices.js"></script>
    <script src="scripts/main.js"></script>
</head>
<body>
        <div class="loader">
            <p>The page is loading, please wait...</p>
        </div>
        <a-scene cursor="rayOrigin:mouse">
            <a-assets>
                <img id="wall-ceiling" src="src/img/ceiling.jpg" alt="ceiling" crossorigin="anonymous" />
                <img id="wall-ground" src="src/img/ground.png" alt="ground" crossorigin="anonymous" />
                <img id="scene-texture" src="src/img/ceiling.jpg" alt="scene" crossorigin="anonymous" />
                <img id="wall-face" src="src/img/walls.png" alt="wall" crossorigin="anonymous" />
                <img id="wall-right" src="src/img/walls.png" alt="wall" crossorigin="anonymous" />
                <img id="wall-left" src="src/img/walls.png" alt="wall" crossorigin="anonymous" />
                <img id="wall-back" src="src/img/walls.png" alt="wall" crossorigin="anonymous" />

                <!-- Posters -->
                <img id="rockabilly-poster" src="src/img/rockabilly-poster.png" alt="poster">
                <img id="glamrock-poster" src="src/img/glamrock-poster.png" alt="poster">
                <img id="rocknroll-poster" src="src/img/rocknroll-poster.png" alt="poster">
                <img id="psychedelic-poster" src="src/img/psychedelic-poster.png" alt="poster">
                <img id="garage-poster" src="src/img/garage-poster.png" alt="poster">
                <img id="hardrock-poster" src="src/img/hardrock-poster.png" alt="poster">
                <img id="blues-poster" src="src/img/blues-poster.png" alt="poster">

                <!-- Audios -->
                <audio id="blues-audio" src="https://cdn.glitch.com/9360fab7-56ab-408a-909a-664f29892c47%2Fchoice1-blues.mp3?1528909904934" crossorigin="anonymous"></audio>
                <audio id="garage-audio" src="https://cdn.glitch.com/9360fab7-56ab-408a-909a-664f29892c47%2Fchoice1-garage.mp3?1528909885047" crossorigin="anonymous"></audio>
                <audio id="rocknroll-audio" src="https://cdn.glitch.com/9360fab7-56ab-408a-909a-664f29892c47%2Fchoice1-rocknroll.mp3?1528909887799" crossorigin="anonymous"></audio>
            </a-assets>


            <a-entity position="-1 2.5 0" text="width: 2; color: white; value: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut enim ad minim veniam"></a-entity>
            
                <!-- SCENE-->
                <a-box id="music-scene" geometry="height: 0.5; width: 14; depth: 6" position="0 0.25 -1" material="src:#scene-texture"></a-box>
                <a-gltf-model id="music-band" src="src/objects/music-band/scene.gltf" position="-4.372 0.5 -2.398" rotation="0 45 0" scale="0.15 0.15 0.15" gltf-model="src/objects/music-band/scene.gltf"></a-gltf-model>
                <a-gltf-model id="giita" src="src/objects/giita/scene.gltf" position="7.127 1.182 -0.598" scale="0.08 0.08 0.08" gltf-model="src/objects/giita/scene.gltf" rotation="12.548 -94.366 -33.06"></a-gltf-model>
                <a-gltf-model id="sound-system" src="src/objects/sound-system/scene.gltf" position="5.677 0.492 -2.686" rotation="0 -45 0" scale="0.03 0.03 0.03" gltf-model="src/objects/sound-system/scene.gltf"></a-gltf-model>                                 
                <!-- Posters -->
                <a-plane passthrough id="poster-1" class="posters" handle-events sound="src:https://cdn.glitch.com/9360fab7-56ab-408a-909a-664f29892c47%2Fchoice1-blues.mp3?1528909904934; autoplay:true; refDistance:0.01; maxDistance:1.5;" geometry="width:1.8;height:2.5" material="src:#rockabilly-poster" position="-6.993 2.231 3.583" rotation="0 90 0"></a-plane>
                <a-plane id="poster-2" class="posters" handle-events sound="src:https://cdn.glitch.com/9360fab7-56ab-408a-909a-664f29892c47%2Fchoice1-garage.mp3?1528909885047; autoplay:true; refDistance:0.01; maxDistance:1.5; volume:1.5;" geometry="height:2.5;width:1.8" material="src:#glamrock-poster" position="0.601 2.27 -4.017"></a-plane>
                <a-plane id="poster-3" class="posters" handle-events sound="src:https://cdn.glitch.com/9360fab7-56ab-408a-909a-664f29892c47%2Fchoice1-rocknroll.mp3?1528909887799;maxDistance:5;volume:0.5; autoplay:true; refDistance:0.01; maxDistance:1.5; volume:1.5;" geometry="width:1.8;height:2.5" material="src:#rocknroll-poster" position="0.454 2.228 11.792" rotation="0 180 0"></a-plane>

                <!-- BAR -->
                <!-- Tables -->
                <a-gltf-model id="keg-1" src="src/objects/keg/scene.gltf" position="5.708 1.039 4.771" scale="1.3 1.3 1.3" gltf-model="src/objects/keg/scene.gltf"></a-gltf-model>
                <a-gltf-model id="keg-2" src="src/objects/keg/scene.gltf" position="5.708 1.039 8.109" scale="1.3 1.3 1.3" gltf-model="src/objects/keg/scene.gltf"></a-gltf-model>
                <a-gltf-model id="table-1" src="src/objects/table/scene.gltf" position="-2.993 0.53 4.5"></a-gltf-model>                
                <a-gltf-model id="table-1-stool-1" src="src/objects/table-stool/scene.gltf" position="-4.126 0.285 5.589" scale="0.35 0.35 0.35"></a-gltf-model>
                <a-gltf-model id="table-1-stool-2" src="src/objects/table-stool/scene.gltf" position="-2.019 0.285 5.555" scale="0.35 0.35 0.35"></a-gltf-model>
                <a-gltf-model id="table-2" src="src/objects/table/scene.gltf" position="1.5 0.53 4.5"></a-gltf-model>                            
                <a-gltf-model id="table-2-stool-1" src="src/objects/table-stool/scene.gltf" position="0.425 0.285 5.574" scale="0.35 0.35 0.35"></a-gltf-model> 
                <a-gltf-model id="table-2-stool-2" src="src/objects/table-stool/scene.gltf" position="2.565 0.285 5.588" scale="0.35 0.35 0.35"></a-gltf-model>
                <!-- Counter -->
                <a-gltf-model id="bar" src="src/objects/bar/scene.gltf" scale="4.5 4.5 2.8" position="-2.5 2.5 11.3"></a-gltf-model>
                <a-gltf-model id="shelf" src="src/objects/shelf/scene.gltf" position="-2.5 -0.062 11.517" scale="0.008 0.008 0.008" gltf-model="src/objects/shelf/scene.gltf"></a-gltf-model>
                <a-gltf-model id="beer-bottle-1" src="src/objects/shelf/scene.gltf" position="-1.369 2.552 11.467" gltf-model="src/objects/beer-bottle/scene.gltf" rotation="0 180 0" scale="0.05 0.05 0.05"></a-gltf-model>
                <a-gltf-model id="beer-bottle-2" src="src/objects/shelf/scene.gltf" position="-3.122 1.752 11.467" gltf-model="src/objects/beer-bottle/scene.gltf" rotation="0 180 0" scale="0.05 0.05 0.05"></a-gltf-model>
                <a-gltf-model id="beer-bottle-3" src="src/objects/shelf/scene.gltf" position="-2.014 0.979 11.467" gltf-model="src/objects/beer-bottle/scene.gltf" rotation="0 180 0" scale="0.05 0.05 0.05"></a-gltf-model>                             
                <!-- OTHER -->
                <a-gltf-model id="door" src="src/objects/door/scene.gltf" scale="0.47 0.47 0.47" position="4.221 0 11.739"></a-gltf-model>
                <a-gltf-model id="piano" src="src/objects/piano/scene.gltf" position="-7.058 0 8.253" scale="1.5 1.5 1.5" gltf-model="src/objects/piano/scene.gltf"></a-gltf-model>
                <a-gltf-model id="couch" src="src/objects/couch/scene.gltf" position="6.381 0.439 7.527" rotation="0 180 0" scale="0.7 0.7 0.7" gltf-model="src/objects/couch/scene.gltf"></a-gltf-model>
                <a-gltf-model id="human" src="src/objects/wow-human/scene.gltf" scale="0.052 0.052 0.052"></a-gltf-model>

            <!-- WALLS -->
            <a-plane geometry="height: 16; width: 14" position="0 5 3.823" rotation="90 0 0" material="src:#wall-ceiling"></a-plane>
            <a-plane geometry="height: 5; width: 14" position="0 2.5 -4.1" material="src:#wall-face"></a-plane>
            <a-plane geometry="height: 5; width: 14" position="0 2.5 11.8" rotation="180 0 0" material="src:#wall-back"></a-plane>
            <a-plane geometry="height: 5; width: 16" position="7 2.5 3.888" rotation="0 -90 0" material="src:#wall-right"></a-plane>
            <a-plane geometry="height: 5; width: 16" position="-7 2.5 3.888" rotation="0 90 0" material="src:#wall-left"></a-plane>
            <a-plane id="ground" rotation="-90 0 0"  position="0 0 3.923" geometry="height: 16; width: 14" material="src:#wall-ground"></a-plane>
            
            <a-camera>
                <a-animation id="camera-animation" attribute="position" dur="2000" easing="linear" to="0 1.6 -10" begin="fallclick"></a-animation>
                <a-cursor>
                    <a-animation begin="click" easing="ease-in" attribute="scale"
                                fill="backwards" from="0.1 0.1 0.1" to="1 1 1" dur="150"></a-animation>
                </a-cursor>
            </a-camera>
            <a-sky id="sky" color="#F5D1B0"></a-sky>
          </a-scene>
          <script>
                const scene = document.querySelector('a-scene');
                const loader = document.querySelector('.loader');
                scene.addEventListener('loaded', () => {
                    loader.remove()
                });                
          </script>
      </body>
</html>